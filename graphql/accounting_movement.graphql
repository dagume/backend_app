#Categorias
type Accounting_movement {
    id:ID!
    puc:Puc
    project:Project
    destination:Member
    origin:Member
    registration_date:Date
    movement_date:Date
    payment_method:String
    value:Int
    state_movement:String
    sender_id:Int
    code:String
    exist_code:Boolean    
}
#Mensaje exitoso de creacion
type MessageSuccessAccountMovement {
    accounting_movement:Accounting_movement
    message: String
}

extend type Query{
    #movimientos entre cuentas
    account_movement(puc_id: Int! @eq): Accounting_movement @find(model: "App\\Accounting_movement") #@middleware(checks:["auth:api"])
    #movimientos entre cuentas desde un project
    project_movement(puc_id:Int @where(operator: "=") project_id:Int @where(operator: "=")): [Accounting_movement] @all(model: "App\\Accounting_movement") #@middleware(checks:["auth:api"])
}
extend type Mutation {
    #movimientos entre cuentas
    create_movement(
        puc_id: Int @rules(apply: ["required","integer"])
        project_id: Int @rules(apply: ["required","integer"])
        destination_id: Int @rules(apply: ["required","integer"])
        origin_id: Int @rules(apply: ["required","integer"])
        movement_date:Date @rules(apply: ["date"])
        payment_method:String @rules(apply: ["required", "max:255"])
        value:Int @rules(apply: ["required","integer"])
        state_movement:String
        code:String     
    ):MessageSuccessAccountMovement @field(resolver: "App\\GraphQL\\Mutations\\Create_movement@resolve") @middleware(checks:["auth:api"])
}
